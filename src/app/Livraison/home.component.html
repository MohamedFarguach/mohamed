
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
<div class="main-content">
    <div class="container-fluid">

        <div>

            <div class="container d-flex align-items-center justify-content-center" >
              <h1 class="text-center"style=";font-family: 'Courier New', Courier, monospace;"><strong style="font-size:
                 xx-large;">Liste Des Livraisons</strong>  </h1>
            </div>
           </div>
            <div class="" style="background-color: white;">
              <div><br></div>
              <div class="row">
                <div class="col-auto" style="margin-left: 6px;">
                  <button type="button"style=" background: linear-gradient(to bottom,#FB404B 0%,#bb0502 100%);padding-top: 0%;color: white;height: 40px;width:100px; margin-left:10px" class="btn btn-danger " (click)="opendialog()"> <strong style="font-size: large;">Ajouter</strong>  <i class="fa fa-plus"  style="margin-right: 3px;margin-bottom: 40px;margin-top: 10px;" >  </i></button>
                </div>
                <div class="col">
                  <div class=" d-flex align-items-end justify-content-end" style="margin-top: 9px;">
                    <select class="custom-select " id="inputGroupSelect01"  (change)="changea($event)" style="width: 100px;height: 25px;margin-bottom: 2px;margin-right: 10px;color: black;font-size: large;" >
                      <option [value]="countn" selected style="font-size: large;"> Taille :{{countn}}</option>
                      <option value="5">5</option>
                      <option value="10">10</option>
                      <option value="20">20</option>
                      <option value="30">30</option>
                      <option value="40">40</option>
                      <option value="50">50</option>
                      <option value="100">100</option>
                    </select>
                  </div>
                </div>
              </div>




                      <input type="text" style="margin-top: 3px; margin-bottom: 10px;font-size: large;color:black;"  class="border form-control col-md-6" (input)="filterData($event.target.value)" placeholder="  Rechercher ....." >




              <div><br></div>


                <table class="table-hover table  border-dark bg-white " style="height: 50px;"  matSort>
                    <thead class="table-striped">
                      <tr class="tbl_Header2" style="height: 10px;">

                        <th scope="col" style="border-top: 1px solid black;border-bottom: 1px solid black;width: 140px;background-color: white;font-size: medium;color: black;"> N°
                              </th>
                              <th scope="col" style="border-bottom: 1px solid black;border-top: 1px solid black;width: 200px;background-color: white;font-size: medium;color: black;"> Lieu Charge</th>

                              <th scope="col" style="border-bottom: 1px solid black;border-top: 1px solid black;width: 197px;background-color: white;font-size: medium;color: black;">   Date Charge  </th>
                              <th scope="col" style="border-bottom: 1px solid black;border-top: 1px solid black;width: 200px;background-color: white;font-size: medium;color: black;">   Lieu de livraison  </th>
                              <th scope="col" style="border-bottom: 1px solid black;border-top: 1px solid black;width: 200px;background-color: white;font-size: medium;color: black;">Date de
                                Livraison</th>
                              <th scope="col" style="border-bottom: 1px solid black;border-top: 1px solid black;width: 230px;background-color: white;font-size: medium;color: black;">Désignation   </th>

                        <th scope="col" style="border-bottom: 1px solid black;border-top: 1px solid black;width: 200px;background-color: white;font-size: medium;color: black;">Responsable chargement</th>

                        <th scope="col" style="border-bottom: 1px solid black;border-top: 1px solid black;width: 200px;background-color: white;font-size: medium;color: black;"> Chauffeur    </th>


                        <th scope="col" class="choix" style="border-top: 1px solid black;border-bottom: 1px solid black;width: 224px;background-color: white;font-size:  medium;color: black;"> Action </th>
                      </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let fiche of listlivraison| paginate: { itemsPerPage: countn, currentPage: p } ">
                            <!-- <td style="border: 2px solid black; background-color:white;font-size:medium"> <span></span> </td> -->
                            <td style="border-bottom:1px solid black;font-size:medium;color: black;"> <span>{{fiche.id}}</span> </td>
                            <td style="border-bottom:1px solid black; font-size:medium;color: black;"> <span>{{fiche.lieucharge.designation}}</span> </td>
                            <td style="border-bottom:1px solid black; font-size:medium;color: black;"> <span>{{fiche.datePrevuCharge}}</span> </td>

                            <td style=" border-bottom:1px solid black;font-size:medium;color: black;"> <span>{{fiche.lieuxlivraison.designation}}</span> </td>
                            <td style=" border-bottom:1px solid black;font-size:medium;color: black;"> <span>{{fiche.dateLivraison}}</span> </td>
                            <td style="border-bottom:1px solid black;font-size:medium;color: black;"> <span>{{fiche.designation}}</span> </td>
                            <td style=" border-bottom:1px solid black;font-size:medium;color: black;"> <span>{{fiche.responsableCharge.prenom}} {{fiche.responsableCharge.nom}}</span> </td>
                            <td style="border-bottom:1px solid black; font-size:medium;color: black;"> <span>{{fiche.chauffeur.prenom}} {{fiche.chauffeur.nom}}</span> </td>


                            <td style="border-bottom:1px solid black;font-size:medium"             class="choixx">
                               <div class="choix btn-group" role="group" aria-label="Basic mixed styles example">
                                 <button  type="button" mat-button
                                  class="btn btn-danger " style="width: 27px;margin-left: 0px;" (click)="deletlivraison(fiche.id)" (click)="controlExecutionTimeDeleteFile(fiche.filelivraison.id)"  >
                                    <i class="fa fa fa-trash  d-flex align-items-start justify-content-start" style="font-size:
                                        small;margin-right: 10px;"></i> </button> </div>


                                      <!-- <button  mat-button  type="text"
                                          class="btn btn-success" style="width: 40px;margin-left: px;"   ><i class="fa fa-fw fa-
                                           print
                                            " style="font-size: large;width: 20px;" >
                                          </i></button> -->
                                          <button mat-button type="button" class="btn btn-info " style="width: 27px;margin-right:2px;margin-left: 1px;"
                                  data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="opendialogconsultation(fiche.id)" >
                                    <i class="fa fa-eye   d-flex align-items-start justify-content-start" style="font-size: small;margin-right: 19px;"  ></i> </button>
                                    <button mat-button type="button" class="btn btn-light " style="width: 27px;margin-right:2px;margin-left: 1px;"
                                    data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="download(fiche.filelivraison.id)" >
                                      <i class="fa fa-download  d-flex align-items-start justify-content-start" style="font-size: small;margin-right: 10px;"  ></i> </button>

                                  <button mat-button type="button" class="btn btn-warning" style="width: 27px;margin-left:2px;"
                                  data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="opendialogmodefier(fiche.id,fiche.filelivraison.id)" >
                                    <i class="fa fa-pencil  d-flex align-items-start justify-content-start" style="font-size: small;margin-right: 10px;"  ></i> </button>

                                      </td>

                        </tr>

                    </tbody>
                    </table>

                      <div  class="pagination d-flex justify-content-center">

                        <pagination-controls class="d-flex justify-content-center" previousLabel="précédant" nextLabel="Suivant"

                        (pageChange)="p = $event" >

                       </pagination-controls>
                      </div>
    </div>
  </div>
</div>
